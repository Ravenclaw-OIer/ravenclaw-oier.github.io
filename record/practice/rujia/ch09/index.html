<!DOCTYPE html>
<html lang="en">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Helvetica:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://ravenclaw-oier.github.io').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="All problems are from Rujia Liu’s AOAPC-bac2nd books.">
<meta property="og:type" content="article">
<meta property="og:title" content="Beginning Algorithm Contests: Chapter 9 Record">
<meta property="og:url" content="https://ravenclaw-oier.github.io/record/practice/rujia/ch09/">
<meta property="og:site_name" content="Ravenclaw_OIer&#39;s blog">
<meta property="og:description" content="All problems are from Rujia Liu’s AOAPC-bac2nd books.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2020/02/18/VOePCBblhgSYd57.png">
<meta property="og:image" content="https://i.loli.net/2020/02/18/IZqjFtU8XGpbMyY.png">
<meta property="og:image" content="https://i.loli.net/2020/02/18/KWhQn46MgAfBHoG.png">
<meta property="og:image" content="https://i.loli.net/2020/02/18/qDyUb9n4dhlF5pt.png">
<meta property="article:published_time" content="2020-01-29T14:12:19.000Z">
<meta property="article:modified_time" content="2020-02-23T11:35:59.056Z">
<meta property="article:author" content="Ravenclaw_OIer">
<meta property="article:tag" content="Practice">
<meta property="article:tag" content="Rujia">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2020/02/18/VOePCBblhgSYd57.png">

<link rel="canonical" href="https://ravenclaw-oier.github.io/record/practice/rujia/ch09/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>Beginning Algorithm Contests: Chapter 9 Record | Ravenclaw_OIer's blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Ravenclaw_OIer's blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>Home</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>Archives</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="en">
    <link itemprop="mainEntityOfPage" href="https://ravenclaw-oier.github.io/record/practice/rujia/ch09/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Ravenclaw_OIer">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ravenclaw_OIer's blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Beginning Algorithm Contests: Chapter 9 Record
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              <time title="Created: 2020-01-29 22:12:19" itemprop="dateCreated datePublished" datetime="2020-01-29T22:12:19+08:00">2020-01-29</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Modified: 2020-02-23 19:35:59" itemprop="dateModified" datetime="2020-02-23T19:35:59+08:00">2020-02-23</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>All problems are from Rujia Liu’s AOAPC-bac2nd books. </p>
<a id="more"></a>
<h2 id="1439-Exclusive-Access-2"><a href="#1439-Exclusive-Access-2" class="headerlink" title="1439. Exclusive Access 2"></a>1439. Exclusive Access 2</h2><p>Alternative problem link: <a href="http://poj.org/problem?id=3866" target="_blank" rel="noopener">POJ 3866</a>.</p>
<p>The problem is a little bit confusing but not difficult.</p>
<p>Let’s check the defination for <code>waiting chains</code>.</p>
<blockquote>
<p>Alternating wait chain of length $n$ ($n \ge 0$) is an alternating sequence of resources $R_i (0 \le i \le n + 1) $and distinct processes $c_i (0 \le i \le n)$: $R_0\to c_0\to R_1\to  c_1 \cdots R_n \to c_n \to R_{n+1}$, where process $c_i$ acquires locks for resources $R_i$ and $R_{i+1}$ in this order. Alternating wait chain is a deadlock when $R_0 = R_{n+1}$.</p>
</blockquote>
<p>It’s two different kinds alternating, that reminds us of <strong>chains</strong> in graph theory, which is properly defined as “a sequence of alternating vertices and edges”</p>
<p>So we can let the resources be the vertices, and let the processes become edges, we then get a graph.</p>
<p>The system should not dead lock, which means that the graph should not contain cycles. Apart from that, as the problem kindly reminds us, “ The order in which locks for resources P and Q are taken is important ”, which means that the graph must be directed. So we now have a DAG.</p>
<p>The next step is to determine how can we describe the target in the DAG.</p>
<blockquote>
<p> Your task is to decide the order in which each process has to acquire its resource locks, so that the system never deadlocks and the maximum length of any possible alternating wait chain is minimized. </p>
</blockquote>
<p>We need to <strong>minimize</strong> the <strong>maximum</strong> length of wait chains.</p>
<p>Remember that the wait chain is supposed to be a route in our graph, thus, <strong><em>we need to minimize the length of the longest path in the graph</em></strong>.</p>
<p>How would we make the graph a DAG?</p>
<p>Let’s think of a kind of special graph that, by its nature, is connected and does not have cycles.</p>
<p><strong>Trees</strong> satisfy the condition.</p>
<p>So, if we take a tree:</p>
<p><img src="https://i.loli.net/2020/02/18/VOePCBblhgSYd57.png" alt="tree.png"></p>
<p>we give it directions that point <strong>from the root to the leaves</strong></p>
<p><img src="https://i.loli.net/2020/02/18/IZqjFtU8XGpbMyY.png" alt="directedTree"></p>
<p>It is obvious that the graph is acyclic (it’s a tree after all)</p>
<p>Now we sneak some edges into the original tree:</p>
<p><img src="https://i.loli.net/2020/02/18/KWhQn46MgAfBHoG.png" alt="graph.png"></p>
<p>Now, we give this graph directions to make it acyclic.</p>
<p>Here is the cool stuff: <strong>We can just think of it as a tree and give it directions just like what we did to the tree</strong>.</p>
<p>Which means that we have given <strong>layers</strong> to the graph. Only can we connect a directed edge from vertex $u$ to vertex $v$ if $u$ is shallower than $v$, i.e. the <strong>layer index</strong> of $u$ is smaller than $v$.</p>
<p>We get a graph like this, and this is indeed the DAG we want.</p>
<p><img src="https://i.loli.net/2020/02/18/qDyUb9n4dhlF5pt.png" alt="graphDAG.png"></p>
<p>So now we have our tactic: <strong>We divide the vertices into some layers, so that all edges lead from one vertex $u$ to another vertex $v$ only if the layer index of $u$ is _strictly smaller_ than $v$. </strong></p>
<p>The problem now reduces to <strong>how we can determine the number of layers</strong>.</p>
<p>If we think of the layers as colors, the problem is reduced to determine the number of colors required to color a graph, so that no neighboring vertices share colors. </p>
<p>This is a classic DP with bitmasks problem, solvable in time complexity $O(3^m)$, which is enough to pass the tests for this problem since that $m \le 15$.</p>
<h2 id="1228-Integer-Transmission"><a href="#1228-Integer-Transmission" class="headerlink" title="1228. Integer Transmission"></a>1228. Integer Transmission</h2><p>An important observation in this problem:</p>
<p><strong><em>We do not care in which order the $0$s are received, nor do we care about the $1$s.</em></strong> </p>
<p>This observation is pretty important, because now we can simply consider where the $0$s and $1$s appear, and the efforts of finding the next $0$ or $1$ is dramatically simpler.</p>
<p>Here is the code for finding the next zero:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">next0</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</span><br><span class="line">	<span class="keyword">return</span> i + <span class="number">1</span> &lt;= zero &amp;&amp; ((j == one) || o[j] + d &gt;= z[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>This problem contains 3 subproblems, the second and third subproblem is very trivial, you can solve it with greedy. Another subproblem requires dynamic programming.</p>
<p>Since we have observed that the order in which the $0$ s and $1$ s are received is useless, we can think that when we take the next $1$ or $0$ we can <em>assume</em> that we are taking the next available $0$ or $1$ right after the last one.</p>
<p>So now we can simply let $f(i,j)$ be the number of integers that can be obtained when we have received the first $i$ zeros and the first $j$ ones of $k$. Thus </p>
<script type="math/tex; mode=display">
f(i+1,j)=f(i+1,j)+f(i,j),~~~~\text{If the next bit received can be 0}\\
f(i,j+1)=f(i,j+1)+f(i,j),~~~~\text{If the next bit received can be 1}</script><p>The rest is fairly simple</p>

    </div>

    
    
    
        

<div>
<ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:  </strong>Ravenclaw_OIer
  </li>
  <li class="post-copyright-link">
    <strong>Post link: </strong>
    <a href="https://ravenclaw-oier.github.io/record/practice/rujia/ch09/" title="Beginning Algorithm Contests: Chapter 9 Record">https://ravenclaw-oier.github.io/record/practice/rujia/ch09/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice:  </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" rel="noopener" target="_blank"><i class="fa fa-fw fa-creative-commons"></i>BY-NC-ND</a> unless stating additionally.
  </li>
</ul>
</div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Practice/" rel="tag"># Practice</a>
              <a href="/tags/Rujia/" rel="tag"># Rujia</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/record/atcoder/abc153/" rel="prev" title="AtCoder Beginner Contest 153 Record">
      <i class="fa fa-chevron-left"></i> AtCoder Beginner Contest 153 Record
    </a></div>
      <div class="post-nav-item">
    <a href="/record/practice/rujia/ch10/" rel="next" title="Beginning Algorithm Contests: Chapter 10 Record">
      Beginning Algorithm Contests: Chapter 10 Record <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#1439-Exclusive-Access-2"><span class="nav-number">1.</span> <span class="nav-text">1439. Exclusive Access 2</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1228-Integer-Transmission"><span class="nav-number">2.</span> <span class="nav-text">1228. Integer Transmission</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ravenclaw_OIer</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">8</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">7</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>
  <div class="cc-license motion-element" itemprop="license">
    <a href="https://creativecommons.org/licenses/by-nc-nd/4.0/" class="cc-opacity" rel="noopener" target="_blank"><img src="/images/cc-by-nc-nd.svg" alt="Creative Commons"></a>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ravenclaw_OIer</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.7.0
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', () => {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

    

  

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"log":false,"model":{"display":null,"position":"right","width":300,"height":600,"jsonPath":"/live2dw/assets/kutori.model.json"},"mobile":{"show":true},"react":{"opacity":0.9}});</script></body>
</html>
